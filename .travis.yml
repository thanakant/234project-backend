language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/project.jar -t dto80/se234-lab11-backend  .
- docker push dto80/se234-lab11-backend
- docker pull dto80/se234-lab11-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: pyP3yhBe0DWJNqhjFHca9voyX084PCi7xwIaxT6K1Ns5fJfK5P+AAvp+ltGnqU4tHokJDEbLGkKPLN5C+GkbUxUiLMOGqrgcm/WRquhqUE5jYvuvZIppR2r1D7e1Qn84Au/lZWCPr1mzj5npMGSkbuPY6bixscFJoSzyljdI/454IUz/WpffhBWMPmhEk00sll15CetOiM6CT5ovM9LQWmLvOl3/A/LNMCHot9bIDTovJSYSxGJTeoD6pQpcDjr8eL81mpxI2uBkO+/vTxQ+DJMtPtTCbvexgHHVBb/8RNtik5Io3g2XP+I+iQfNYf29X6djdRRzBRwG1u2aSkCbU+g67MQ9uluwv0uvV88n8w3SFW7zKLwDES+XPOJaybYcbiM9Xm+hzDIpxMi6bU81wJTHrG1baZ0MlTRkyb6v08CLnETGOzOB2rtMZk/oID3pjlhEqDdQfL705gyx1BdRW+htolZ9PReJ52Mhh39AFMVpfATNY9sM/bdsJUXRox1jQmtAuxmIvhIoXsHo9CVfwO1kJkb8mwE4nO/Vfp1hYmFrcsC60d7iMt4Gg6C0abO5pYfks+Zx+hn3IBE8oXJT4G60K2wjalLLsxs/MHC2gR6Ea9/443G8Muxezrygl0DUrZiv27oIN66UFpL5FOp0cyzVYHgPfMacQvhlkXrj9AA=
  - secure: L4gvFLaSy20meALR951eHuiQJVx3QvDnZm75jA4S4EiLUBHlzOmw25ym9YRtcVnNkRzGHLDJlaOP1EaYWwJ1dYfwRqBZr4Q+4YyI7L+W1OQTvEBoX1iwT2x3LLrSlEK0UAM7k7PVxRjkixiJGK537bMb2AFhgxAuf58k/bilad/6rDGi1h2c//8kJR3mSIC8XBfvDLfOotBjEAkqLRELzD+R7LwJc6K6W/JYXVW13uZyU1EwYYVYzvrhLCvALijJznjT5F7+YwQaFYB23Xt1rP4OzsTfhkQN1yUYrXHqiGQM/SWPAK6YdfDGjZBwTjX+pq9RP8yTi1rTDG1KoonkekmTlJN4rlON1UIdehuyN4le40FKOlrbkpInH9uQJIC8lkKwv0yKT5MhpSFD5Te1tO3F/DCHkYmH/URKK7goHctDm7O1LivZFg0izpzfp600eb/QPRUjWipL8MRJ9WfPElBmwhNNTO4sg6K/ajEpeW5jWI/sJChxY+Xb6Ap94RqOh3ZBQO+83KN/LJIG0Tvfq5u7Yt+m2Y71cM8LlkkRjb9W7Sann3Bckt6ojkL4O9Joqe8qd7hRueMs+cdi3cVBG8EOWFVmFC2cTkcnnlHU8W5aeyJYvq/V5WE5vT8Vnj0fhkvpMBybaN+ZySpR1nAF2csvc24M3Q89ZslEP5+/39U=
