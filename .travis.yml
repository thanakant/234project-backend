language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/project.jar -t $DOCKER_USERNAME/234project-backend  .
- docker push $DOCKER_USERNAME/234project-backend
- docker pull dto80/project234-frontend
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: eHyEdshnlCgkFoA3PjlYeFe7KrsHlClmygyfvWtvot5XmLdePFYlsiSU2V7y7RX6wROk8RWDWcuJGalXO7mFpCg88EG8aws2R0uJmVEzNhp04Sx1ZR4evcIyUOOlacGtzlOu+3DAHQdZm6BKMfy+tCflScRPM8bfHovi9Shjk2xkHyKFSBPnEwASRUiasMRbgmxEKKw04FBN86/Vv7Y5dDBTpqblbCJOVk4336SYbbmv7B82NHBuO91YJ7o9vfaWv/7sS6+DXya6TNiQ/cojQJaNCnFTPXDQ2zZL8yECc06zs2je2jPDIXPXaE4ydVHGt0uwSQ/AB/1Rb+E7dtd7kIkPEXMfIkRUz8sYqo0AcysaLQrufd1bLOBzUqkGwHy2D8ejxSDQYIJADECu2gzLMaRWKdrtw5sURnDLuBl0Ib4dYDBboYkR/gHiLiAQ/kqBB6rh4wbRhZrUUG6AU4higS0xGWQ3XcnNu0vfqfzrlB3f9xKP8uF0PuDx3FdTbnXVmpSxYd/6PadzTLjWg5sbtE+spBD8H4MlTy5D7QFKeXNtwTK4LLX7LqkGs8wgnFGZRb0duga23MA1prOc3fZtiwpxSYgWoyJPkQxx77VkHCDC0y4e4vQ7BFDlXWomxcumj91l8I+juplRHMFCJKVBl9fO8/W0tKIb80+9CxpgxAU=
  - secure: ABt2wRPQMWfMECz/OtGItIFli+XypKVyirMLBfFGiblSCrptxLBSwJDWHPTJFHLxLutuetl+BAAKyVfy3qSatJCkvd17cEfaZhcW/ozJ/PwqOzc8QV1HHZSp8v+4u7q3BwnhuLgZcb0GFmYiHwttNz2r6SoWvUYBfxVh2WHEz6cNfcGE70ApKR2ZQ2YJWcZn/v0ipmv0SC9KgfCzGtqmZFDTshe3RdYG05Lsmj3u2eB7eobkU8YsKlvy4JakAPzVL0ADa+yAotmkEggTqN2rSBK1PdSVKe0xntIfW6U9TPyZHfO4YHOBc4VVL7R9uR5jBKmsJTzTKVkXXqsjQHxXTA3Kdtl/144wwGmf3G2lRaUMt81cmDrhj60zi4AkNmjwyFM34wi1QtlYwdq28CqJx9Wwf0A8tzXnmAgscz9nbmb7/Xsr9Fnqv/OjukUOj8Foe/7JBAnehNQ8zdtMzgJAyvQtn9JJBQ422CryEVrGydZHaNzbqBQP2hR4MgLb2fKpSUm15vJOjizhx8fVPn5yLxtlS3hGnJRc8uJMZdHqsTK7oYitMEiOVct6c0iFy4FEFIzJleELuAPQZCOK+jTRtEm9+7lpn2YAK1/jBu3U7ikUy3R2aqHOsi/xbZBQ4LF0FRPxcFAlZprnSq7Qtn6ci6kmE0tq9PVT10RpAI9Wgko=
  - secure: IJjpB/TCHrLFvBx7L6JgKVTKxZSpwPhCS9fRJfZt6HAzTLI/k5fcs/XBCEBvDsdtjWYIkZc7zX6FhRiqGmXsk5NnspC2lRxmLABjhSrf2goVZX/Mjloz641UuQFv+P3pucsiME3Ze9YJwc5r2KP+AqVDFxHwEf2vNC8evttILXH/IG/tdKJGTlThc30z6fH4YPwi0N3NfPFr2+b9He+xKhASQEs3ghH+Hs/PfwPzDMVefYGR3w80H3C1p/MzO1dip1NK7QkX90+zR6UoBEYf40P2Vu1NdEAixpYZbEB0DZsXyw0u1aeC29sPmTlmuyjOkBsUT3FLpXNwUhFRsKagsjg75WSkR1Q2qhk1G60JZDkQc2gYwwEwqzcAAGBWB3aPD+CfCXUp8v4aG2/KcB0wvr2Kx7Nucffu3UrhYMLPmn/3FMsvVdT7yACeL/SGWaUvPVgx/WWTX2w40ZsnQIPNYl5l/bTTi22LCSDlvI6Vl+QD32262s253rfUgew87INzzSqOMn17en+UxNxtthOJ+65vqmGj95WV5YSFVnQdPQdQ1Oxh3RlIeNI8Xu/T5oUZC5d70a5J88oCCAkRPNiyXjuOhDcqjkTk7iEr3pU4PgCC9zhhGiUMaOvDb5urAdiQoAtkly9tL3RdqQX6+aAhYRjiBkhu7Ldv0G4H4u5aFgw=
